{
  "version": 2,
  "installation_questions": [
    {
      "question": "Claim token",
      "description": "The claim token for the server to obtain a real server token. If not provided, server is will not be automatically logged in. If server is already logged in, this parameter is ignored. You can obtain a claim token to login your server to your plex account by visiting https://www.plex.tv/claim.",
      "type": "text",
      "key": "plex_claim_token",
      "required": false
    }
  ],
  "ensure_directories_exists": [
    {
      "path": "$LOCATION(ApplicationsPerformance)",
      "network_share": true
    },
    {
      "path": "$LOCATION(ApplicationsCapacity)",
      "network_share": true
    },
    {
      "path": "$LOCATION(Media)",
      "network_share": true
    },
    {
      "path": "$LOCATION(Photos)",
      "network_share": true
    },
    {
      "path": "$LOCATION(Music)",
      "network_share": true
    },
    {
      "path": "$LOCATION(Movies)",
      "network_share": true
    },
    {
      "path": "$LOCATION(Shows)",
      "network_share": true
    },
    {
      "path": "$LOCATION(Videos)",
      "network_share": true
    },
    "$LOCATION(ApplicationsPerformance)/plex/data",
    "$LOCATION(ApplicationsPerformance)/plex/config",
    "$LOCATION(ApplicationsCapacity)/plex/logs",
    "$LOCATION(ApplicationsPerformance)/plex/transcode"
  ],
  "app_values": {
    "plex": {
      "claim_token": "$QUESTION(plex_claim_token)"
    },
    "run_as": {
      "user": 568,
      "group": 568
    },
    "storage": {
      "data": "$HOST_PATH($LOCATION(ApplicationsPerformance)/plex/data)",
      "config": "$HOST_PATH($LOCATION(ApplicationsPerformance)/plex/config)",
      "logs": "$HOST_PATH($LOCATION(ApplicationsCapacity)/plex/logs)",
      "transcode": "$HOST_PATH($LOCATION(ApplicationsPerformance)/plex/transcode)",
      "additional_storage": [
        "$MOUNTED_HOST_PATH($LOCATION(Media), /media)",
        "$MOUNTED_HOST_PATH($LOCATION(Photos), /photos)",
        "$MOUNTED_HOST_PATH($LOCATION(Music), /music)",
        "$MOUNTED_HOST_PATH($LOCATION(Movies), /movies)",
        "$MOUNTED_HOST_PATH($LOCATION(Shows), /shows)",
        "$MOUNTED_HOST_PATH($LOCATION(Videos), /videos)"
      ]
    },
    "resources": {
      "limits": {
        "cpus": 2,
        "memory": "$MEMORY(10%, 2048)"
      },
      "gpus": {
        "use_all_gpus": true
      }
    }
  }
}